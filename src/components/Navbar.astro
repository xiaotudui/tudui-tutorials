---
//
import logo from '../assets/logo.svg';

const links = [
  { 
    name: '教程', 
    href: '/tutorials', 
    submenu: [
      { name: 'PyTorch 深度学习入门', href: '/tutorials' },
      { name: '计算机视觉基础', href: '#' },
      { name: '开发环境配置', href: '#' }
    ] 
  },
  { 
    name: '工具箱', 
    href: '#', 
    submenu: [
      { name: 'VOC 数据集查看器', href: 'https://www.xiaotudui.com/tuduilab/voc-dataset-viewer' },
      { name: 'YOLO 格式转换', href: '#' }
    ] 
  },
  { name: '实战项目', href: '/classroom' },
];
---

<header class="sticky top-0 z-50 w-full border-b border-slate-200/60 bg-white/80 backdrop-blur-xl transition-all dark:border-white/5 dark:bg-[#030712]/80">
  <div class="mx-auto flex h-16 max-w-7xl items-center justify-between px-4 sm:px-6 lg:px-8">
    
    <a href="/" class="group flex items-center gap-2.5">
      <div class="flex h-9 w-9 items-center justify-center rounded-xl bg-gradient-to-tr from-orange-500 to-orange-400 p-1.5 shadow-lg shadow-orange-500/20 transition-transform group-hover:rotate-6">
        <img src={logo.src} alt="Logo" class="h-full w-full invert" />
      </div>
      <span class="text-xl font-bold tracking-tight text-slate-900 dark:text-white" style="font-family: 'JetBrains Mono', sans-serif;">
        我是土堆
      </span>
    </a>

    <nav class="hidden md:flex items-center gap-1">
      {links.map((link) => (
        <div class="relative group px-1">
          <a href={link.href} class="flex items-center gap-1 rounded-lg px-4 py-2 text-[15px] font-medium text-slate-600 hover:bg-slate-50 hover:text-orange-600 dark:text-slate-300 dark:hover:bg-white/5 dark:hover:text-orange-400 transition-all">
            {link.name}
            {link.submenu && (
              <svg xmlns="http://www.w3.org/2000/svg" class="h-3.5 w-3.5 opacity-50 transition-transform duration-200 group-hover:rotate-180" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2.5" d="M19 9l-7 7-7-7" />
              </svg>
            )}
          </a>

          {link.submenu && (
            <div class="absolute left-0 top-full hidden group-hover:block pt-2 w-56">
              <div class="overflow-hidden rounded-2xl border border-slate-200/50 bg-white p-1.5 shadow-2xl shadow-slate-200/50 dark:border-white/10 dark:bg-slate-900 dark:shadow-none">
                {link.submenu.map((sub) => (
                  <a href={sub.href} class="block rounded-xl px-4 py-2.5 text-sm font-medium text-slate-600 hover:bg-orange-50 hover:text-orange-600 dark:text-slate-400 dark:hover:bg-white/5 dark:hover:text-orange-400 transition-all">
                    {sub.name}
                  </a>
                ))}
              </div>
            </div>
          )}
        </div>
      ))}
    </nav>

    <button id="theme-toggle" class="rounded-xl border border-slate-200 p-2 text-slate-500 hover:bg-slate-50 dark:border-white/10 dark:text-slate-400 dark:hover:bg-white/5">
      <svg id="sun-icon" class="hidden h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path d="M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z"></path></svg>
      <svg id="moon-icon" class="hidden h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path d="M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003 0 0012 21a9.003 9.003 0 008.354-5.646z"></path></svg>
    </button>
  </div>
</header>